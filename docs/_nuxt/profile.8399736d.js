import{_ as S}from"./AppSection.2feb1781.js";import{l as d,D as U,c as r,k as t,h as b,g as N,w as c,E as B,o as s,d as n,t as h,F as q,a as e,A as y,B as f,G as x}from"./entry.7ab02da5.js";const A={class:"container relative mx-auto"},D=e("br",null,null,-1),F=e("div",{class:"grid grid-cols-1 gap-4 lg:grid-cols-2 md:gap-6 lg:gap:8 xl:gap-9"},[e("p",{class:"px-4 py-2 font-mono text-xs border lg:col-start-2"}," Your profile page is in development, please come back soon. ")],-1),L=e("br",null,null,-1),M={class:""},E={class:"grid grid-cols-1 gap-8 lg:grid-cols-2"},P={class:"lg:col-start-2 lg:max-w-md"},T={id:"join",ref:"formElement",class:"relative text-left"},$={key:0,class:"form-group group"},z=e("label",{for:"firstName",class:""}," First Name ",-1),G={key:1,class:"form-group group"},W=e("label",{for:"lastName",class:""}," Last Name ",-1),j={class:"form-group group"},H=e("label",{for:"user-email"}," Email ",-1),I={class:"form-group group"},R=e("label",{for:"user-password"}," Password ",-1),Y=e("span",{class:"flex mt-2 text-xs"},[e("span",{class:"block w-3.5 h-3.5 me-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M12 1.5a5.25 5.25 0 00-5.25 5.25v3a3 3 0 00-3 3v6.75a3 3 0 003 3h10.5a3 3 0 003-3v-6.75a3 3 0 00-3-3v-3c0-2.9-2.35-5.25-5.25-5.25zm3.75 8.25v-3a3.75 3.75 0 10-7.5 0v3h7.5z","clip-rule":"evenodd"})])]),n(" All applications are kept secure and private. ")],-1),Q={__name:"profile",setup(J){const{$pb:p}=B(),v=d(""),_=d(""),m=d(""),u=d(""),g=d(""),a=d(!0),C=()=>{p.authStore.clear(),g.value=null},k=async()=>{try{const i=await p.collection("users").authWithPassword(m.value,u.value)}catch(i){alert(i.message)}},V=async()=>{try{const i={username:`TFM${self.crypto.randomUUID().split("-")[0]}`,email:m.value,emailVisibility:!0,password:u.value,passwordConfirm:u.value,name:v.value+" "+_.value},o=await p.collection("users").create(i);await k()}catch(i){alert(i.message)}};return U(()=>{p.authStore.onChange(()=>{g.value=p.authStore.model},!0)}),(i,o)=>{const w=S;return s(),r("main",A,[t(g)?(s(),r("button",{key:0,class:"absolute top-4 right-4 px-2 py-1 text-xs font-bold text-white uppercase bg-black rounded-sm dark:text-black dark:bg-white",type:"button",onClick:C}," Logout ")):b("",!0),t(g)?(s(),N(w,{key:1,class:"md:pb-0 lg:pb-0"},{title:c(()=>[n(" Hello,"),D,n(" "+h(t(g).name.split(" ")[0]),1)]),desc:c(()=>[n(" Welcome back ")]),default:c(()=>[F]),_:1})):(s(),N(w,{key:2,class:"md:pb-0 lg:pb-0"},{title:c(()=>[t(a)?(s(),r(q,{key:0},[n(" Login ")],64)):(s(),r(q,{key:1},[n(" Application"),L,n("Form ")],64))]),desc:c(()=>[n(h(t(a)?"Glad to see you again":"Please tell us a bit about yourself so that we may review your request for an application.ยน"),1)]),default:c(()=>[e("section",M,[e("div",E,[e("div",P,[e("form",T,[t(a)?b("",!0):(s(),r("div",$,[y(e("input",{class:"peer","onUpdate:modelValue":o[0]||(o[0]=l=>x(v)?v.value=l:null),type:"text",required:"required",name:"entry.1090129806"},null,512),[[f,t(v)]]),z])),t(a)?b("",!0):(s(),r("div",G,[y(e("input",{class:"peer","onUpdate:modelValue":o[1]||(o[1]=l=>x(_)?_.value=l:null),type:"text",required:"required",name:"entry.57994274"},null,512),[[f,t(_)]]),W])),e("div",j,[y(e("input",{class:"peer","onUpdate:modelValue":o[2]||(o[2]=l=>x(m)?m.value=l:null),type:"text",required:"required",name:"entry.1097449195"},null,512),[[f,t(m)]]),H]),e("div",I,[y(e("input",{class:"peer","onUpdate:modelValue":o[3]||(o[3]=l=>x(u)?u.value=l:null),type:"password",required:"required",name:"entry.1097449195"},null,512),[[f,t(u)]]),R]),t(a)?(s(),r("button",{key:2,onClick:k,type:"button",class:"py-2.5 mt-2 w-full text-base font-bold text-center text-white uppercase bg-grey-975 dark:bg-white dark:text-grey-975 --rounded"}," Login ")):b("",!0),t(a)?b("",!0):(s(),r("button",{key:3,onClick:V,type:"button",class:"py-2.5 mt-2 w-full text-base font-bold text-center text-white uppercase rounded-sm bg-grey-975 dark:bg-white dark:text-grey-975 --rounded"}," Signup ")),Y,e("button",{type:"button",onClick:o[4]||(o[4]=l=>a.value=!t(a)),class:"absolute right-0 -bottom-0.5 pb-0.5 text-xs font-bold text-center uppercase border-b border-transparent hover:border-black dark:hover:border-white"},h(t(a)?"Signup":"Login"),1)],512)])])])]),_:1}))])}}};export{Q as default};
